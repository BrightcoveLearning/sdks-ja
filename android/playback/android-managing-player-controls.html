---
title: 'Android：プレーヤーコントロールの管理' 
description: このトピックでは、Brightcove Player SDK forAndroidを使用するときにBrightcovePlayerコントロールを操作する方法を学習します。
parent: Playback 
grandparent: Androidの開発
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">概要</h2>

<p>ネイティブプレーヤー SDK は、Brightcove Web Player に似たプレーヤーコントロールを提供し、プラットフォーム間で一貫したユーザーエクスペリエンスを提供します。初期設定の Brightcove プレーヤーコントロールを使用することも、独自の色、スタイル、ボタンを使用してカスタマイズすることもできます。</p>

<aside class="bcls-aside bcls-aside--tip">注意:
<p>これらの機能の詳細については、「<a href="/features/brightcove-native-player-controls.html">Brightcoveのネイティブプレーヤーコントロール</a>」ドキュメントを参照してください。</p>

<p>ネイティブ SDK for Android のプロパティ値の完全なリストについては、このドキュメントの「<a href="#Browse_SDK_property_values"> SDK プロパティ値の参照</a>」セクションを参照してください。</p>
</aside>
</section>

<section class="bcls-section">
<h2 id="Default_player_controls">デフォルトのプレーヤーコントロール</h2>

<p>Brightcove Player SDK for Androidを使用してアプリを作成する場合は、次のいずれかから開始する必要があります。<code translate="No">BrightcovePlayer</code>または<code translate="No">BrightcovePlayerFragment</code>クラス。</p>

<h3>Brightcoveプレーヤーを拡張する</h3>

<p>アプリコードで、<code translate="No">MainActivity</code>上記のいずれかのクラスからクラスを拡張します。例は次のとおりです。</p>

<pre class="line-numbers">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {
}</code></pre>

<p>これで、コードでビデオビューをインスタンス化する準備ができました。</p>

<h3>BrightCoveVideoView をインスタンス化する</h3>

<p>の中に<code translate="No">MainActivity.java</code>ファイル、および<code translate="No">onCreate()</code>メソッドには、次のコードを追加します。</p>

<pre class="line-numbers">
<code class="language-java" translate="No">@Override
protected void onCreate(Bundle savedInstanceState) {
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);
    super.onCreate(savedInstanceState);
}</code></pre>

<p>プレイヤーのコントロールは次のようになります。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Basic player controls" src="/assets/images/android/playback/bcplayer-basic-controls.png" />
<figcaption class="bcls-caption--image">基本的なプレーヤーコントロール</figcaption>
</figure>
</section>

<section class="bcls-section">
<h2 id="Customize_player_controls">プレーヤーコントロールをカスタマイズする</h2>

<p>Brightcove プレーヤーコントロールは、キャプション、動画巻き戻し、全画面表示モードをサポートします。コントロールの表示と非表示を切り替えるアニメーションスタイルを選択することもできます。</p>

<h3>コントロールカラーを変更する</h3>

<p>簡単にカスタマイズでき、会社のブランディング素材に合わせて、Brightcoveのプレーヤーコントロールカラーを変更できます。</p>

<ol class="bcls-tasklist-restart">
	<li>上記と同じコードを<strong> MainActivity.java </strong>ファイルで使用してください。</li>
	<li><strong>src/main/res/values/colors.xml </strong>または<strong> res/values/strings.xml </strong>ファイルに、次のコードを含めます。

<pre class="line-numbers">
<code class="language-xml" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;!-- Define the new colors. --&gt;
    &lt;color name="bc_orange"&gt;#F3951D&lt;/color&gt;
    &lt;color name="magenta_semi_trans"&gt;#4DFF00FF&lt;/color&gt;

    &lt;!-- Change the progress colors to magenta/black/orange, all transparent. --&gt;
    &lt;color name="bmc_seekbar_played"&gt;@color/magenta_semi_trans&lt;/color&gt;
    &lt;color name="bmc_seekbar_buffered"&gt;@color/black_semi_trans&lt;/color&gt;
    &lt;color name="bmc_seekbar_track"&gt;@color/bc_orange&lt;/color&gt;

&lt;/resources&gt;</code></pre>

<p>プレイヤーのコントロールは次のようになります。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Change control colors" src="/assets/images/android/playback/bcplayer-seekbar-colors.png" />
<figcaption class="bcls-caption--image">コントロールカラーを変更する</figcaption>
</figure>
</li>
</ol>

<h3>プレーヤーコントロールのアイコンとボタンを変更する</h3>

<p>Brightcoveのプレーヤーコントロールをさらにカスタマイズするには、アイコンを交換し、会社のスタイルに合わせて独自のボタンを追加します。</p>

<ol class="bcls-tasklist-restart">
	<li>上記と同じコードを<strong> MainActivity.java </strong>ファイルで使用してください。</li>
	<li><strong>src/main/res/values/strings.xml </strong>ファイルに、次のコードを含めます。

<pre class="line-numbers">
<code class="language-xml" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;!-- Use the Font Awesome fa-stepbackward icon for the rewind
         button face. --&gt;
    &lt;string name="brightcove_controls_rewind"&gt;&amp;#xf048;&lt;/string&gt;
&lt;/resources&gt;</code></pre>

<p>プレイヤーのコントロールは次のようになります。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Add backstep button" src="/assets/images/android/playback/bcplayer-backstep-controls.png" />
<figcaption class="bcls-caption--image">[バックステップを追加] ボタン</figcaption>
</figure>
</li>
</ol>

<p>完全なコード例については、「<a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-player-controls"> Android サンプル用 Brightcove プレーヤーコントロール</a>」を参照してください。</p>
<!--                <p>With a basic understanding of the Brightcove SDK for Android components, you are now ready to build an app. Check out the <a href="/android/basics/step-step-simple-video-app-using-native-sdk-android.html">Quick Start to Brightcove Player SDK for Android</a>.</p>--></section>

<section class="bcls-section">
<h2 id="Show/hide_player_controls">プレイヤーコントロールの表示/非表示</h2>

<p>ビデオ再生中にプレーヤーコントロールの表示と非表示を切り替えるには、次の 3 つの方法があります。</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>ユーザーは、デバイス画面をタップして、プレーヤーコントロールの表示と非表示を切り替えることができます。</p>
	</li>
	<li>
	<p><code translate="No">BrightcoveMediaController</code>クラスを使用できます。定義済みの再生ヘッド位置範囲のプレーヤーコントロールを表示する方法の例を次に示します。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">brightcoveVideoView.getEventEmitter().on(EventType.PROGRESS, new EventListener() {
    @Override
    public void processEvent(Event event) {
        int playheadPosition = brightcoveVideoView.getCurrentPosition();
        if(playheadPosition &gt; 24000 &amp;&amp; playheadPosition &lt; 29000) {
            <span class="bcls-highlight">BrightcoveMediaController controller = brightcoveVideoView.getBrightcoveMediaController();
            controller.show();</span>
        }
    }
});</code></pre>
<br/>

	<aside class="bcls-aside bcls-aside--warning">を呼び出そうとすると、nullポインタ例外が発生します<code translate="No">getBrightcoveMediaController()</code>ビデオがロードされる前のメソッド。このメソッドを呼び出す前に、<code translate="No">DID_SET_VIDEO</code>イベントをリッスンすることもできます。<br />
	<br />
	このデフォルトの動作をオーバーライドしない限り、プレーヤーコントロールは表示してから3秒後に自動的に非表示になることに注意してください。</aside>
	</li>
	<li>
	<p>イベントは次のように使用できます。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">import static com.brightcove.player.mediacontroller.ShowHideController.SHOW_MEDIA_CONTROLS;
import static com.brightcove.player.mediacontroller.ShowHideController.HIDE_MEDIA_CONTROLS;
...
eventEmitter.emit(HIDE_MEDIA_CONTROLS);
eventEmitter.emit(SHOW_MEDIA_CONTROLS);</code></pre>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Disable_player_controls">プレーヤーコントロールを無効にする</h2>

<p>アプリのレイアウトと機能を設計する際に、プレーヤーコントロールをオフにする必要があります。これは、次のようにを null <code translate="No">MediaController</code>に設定することで実行できます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No">@
Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
   View rootView = inflater.inflate(R.layout.fragment_player, container, false);
   brightcoveVideoView = (BrightcoveExoPlayerVideoView) rootView.findViewById(R.id.brightcove_video_view);
   super.onCreateView(inflater, container, savedInstanceState); // Need to be called after brightcoveVideoView is set.
   <span class="bcls-highlight">brightcoveVideoView.setMediaController((MediaController) null); // Need to be called after onCreateView.</span>
   return rootView;
}</code></pre>

<p>この例では、<code translate="No">BrightcovePlayerFragment</code> .</p>

<aside class="bcls-aside bcls-aside--information">NS <code translate="No">BrightcoveMediaController</code>クラスは、デフォルトのBrightcoveプレーヤーコントロールを提供し、コントロールバー、シークバー、一連のメディアコントロールボタンなど、それらを管理およびカスタマイズできるようにします。Brightcove Playerコントロールを無効にして、Androidネイティブコントロールを使用することもできます。</aside>
</section>

<section class="bcls-section">
<h2 id="Manually_control_fullscreen_mode">フルスクリーンモードを手動で制御する</h2>

<p>通常、ユーザーはコントロールバーのフルスクリーンボタンをタップして全画面表示を制御します。この機能をコード内で手動で制御したい場合があります。</p>

<p>フルスクリーンモードを設定するには、次のコードを使用します。</p>

<pre>
<code class="language-java" translate="No">brightcoveVideoView.getEventEmitter().emit(EventType.ENTER_FULL_SCREEN);</code></pre>

<p>フルスクリーンモードを終了するには、次のコードを使用します。</p>

<pre>
<code class="language-java" translate="No">brightcoveVideoView.getEventEmitter().emit(EventType.EXIT_FULL_SCREEN);</code></pre>

<p>イベントタイプの完全なリストについては、<a href="/android/reference/javadoc/index.html"> Android 用 Player SDK リファレンスを参照し</a>、<strong> EventType </strong>クラスドキュメントに移動します。</p>

<p>または、<code translate="No">fullScreen()</code>そして<code translate="No">normalScreen()</code>メソッド。これらのメソッドは、<a href="/android/reference/javadoc/index.html"> Android 用 Player SDK リファレンス</a>、および<strong> BrightCovePlayer </strong>クラスのドキュメントに移動して見つけることができます。</p>
</section>

<section class="bcls-section">
<h2 id="Browse_SDK_property_values">SDK プロパティ値を参照</h2>

<p>配列、色、次元、ID、整数、文字列、スタイルなど、値の完全なリストを表示するには、次の手順を実行します。</p>

<ol class="bcls-tasklist-restart">
	<li><strong>Androidネイティブプレーヤー-パブリックx.x.x.zipファイルを探し</strong>、それを解凍します。</li>
	<li>
	<p><strong>SDKフォルダで</strong>、<strong>Android-sdk-x.x.x.aarファイルを開きます</strong>。</p>

	<aside class="bcls-aside bcls-aside--tip">を開く1つの方法<strong>aar</strong>ファイルは拡張子をから変更することです<strong>aar</strong>に<strong>ジップ</strong>解凍します。</aside>
	</li>
	<li><strong>res/values/values.xml </strong>ファイルを開きます。ここでは、アプリケーションで参照できる値のリストがあります。</li>
</ol>
</section>
</article>