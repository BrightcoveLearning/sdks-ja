---
title: 'Android用ネイティブSDKを使用してスニペットをコーディングする' 
description: このトピックでは、SDK を使用して開発する際のリファレンスとして役立つコードスニペットのコレクションを紹介します。より詳細な解決策については、を参照してください。<a href="https://github.com/BrightcoveOS/android-player-samples"> Androidプレーヤーのサンプル</a>。
parent: Resources 
grandparent: Androidの開発
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h3 id="top">目次</h3>
<details style="padding:0;">
    <summary>広告</summary>
    <ul>
      <li><a href="#Preload_IMA_ads">IMA広告をプリロードする</a></li>
      <li><a href="#Seek_without_ads">広告なしでシークする</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>アナリティクス</summary>
    <ul>
      <li><a href="#Google_analytics">グーグルアナリティクス</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>キャプション</summary>
    <ul>
      <li><a href="#Setting_captions_and_themes">キャプションとテーマの設定</a></li>
      <li><a href="#Setting_default_captions">デフォルトのキャプションを設定する</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>概念</summary>
    <ul>
      <li><a href="#Methods_synchronous_or_asynchronous">メソッド：同期または非同期？</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>コンテンツセキュリティ (DRM)</summary>
    <ul>
      <li><a href="#Manually_adding_DRM_content">DRM コンテンツを手動で追加する</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>ライブストリーム</summary>
    <ul>
      <li><a href="#Getting_duration_for_live_streams">ライブストリームの期間を取得する</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>再生</summary>
    <ul>
      <li><a href="#Detecting_Network_Bandwidth">ネットワーク帯域幅の検出</a></li>
      <li><a href="#Getting_the_ExoPlayer_instance">ExoPlayer インスタンスの取得</a></li>
      <li><a href="#Offline_playback_with_DRM">DRMでオフライン再生</a></li>
      <li><a href="#Paging_with_the_Playback_API">再生 API を使用したページング</a></li>
      <li><a href="#Playing_local_videos">ローカルビデオを再生する</a></li>
      <li><a href="#Setting_the_buffer_size">バッファサイズを設定する</a></li>
      <li><a href="#Setting_the_peak_bitrate">ピークビットレートの設定</a></li>
      <li><a href="#Setting_the_playback_rate">再生レートの設定</a></li>
      <li><a href="#Setting_VR_Goggles_mode_for_360_videos">360° 動画の VR ゴーグルモードの設定</a></li>
      <li><a href="#Starting_playback_in_the_middle_of_a_video">ビデオの途中で再生を開始する</a></li>
      <li><a href="#Swapping_videos">ビデオのスワップ</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>プレーヤコントロール</summary>
    <ul>
      <li><a href="#Customizing_controls_for_Android_TV">Android TV のコントロールをカスタマイズする</a></li>
      <li><a href="#Fullscreen_mode">フルスクリーンモード</a></li>
      <li><a href="#Mute_unmute_the_player">プレイヤーをミュート/ミュート解除する</a></li>
      <li><a href="#Positioning_player_controls_on_the_bottom">プレーヤーコントロールを底に配置する</a></li>
      <li><a href="#Showing_player_controls">プレーヤーコントロールを表示する</a></li>
      <!--				  <li><a href="#singleline">Showing single line controls</a></li>-->
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>プレイリスト</summary>
    <ul>
      <li><a href="#Switching_between_videos_in_a_playlist">プレイリストの動画を切り替える</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>動画コンテンツ</summary>
    <ul>
      <li><a href="#Getting_URL_for_thumbnail_images">サムネイル画像の URL を取得する</a></li>
      <li><a href="#Loading_a_remote_video_and_poster_image">リモートビデオとポスター画像の読み込み</a></li>
      <li><a href="#Showing_hiding_video_still_images">動画静止画の表示/非表示</a></li>
    </ul>
</details>
<br/>
</section>

<section class="bcls-section">
<h2 id="Customizing_controls_for_Android_TV">Android TV のコントロールをカスタマイズする</h2>

<p>デバイスまたは Android TV のコントロールバーにボタンを追加できます。以下の手順では、Android TVのコントロールバーにフルスクリーンボタンを追加する手順を説明します。</p>

<ol class="bcls-tasklist-restart">
	<li><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-player-controls/CustomizedControlsSampleApp">カスタマイズコントロールサンプルアプリを開きます</a>。これを出発点として使用します。プレーヤーコントロールのカスタマイズの詳細については、サンプルアプリの<a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/README.md"> README </a>ファイルを参照してください。</li>
	<li>Androidスタジオで<strong> res/layout/land/my_media_controller.xml </strong>ファイルを開きます。</li>
	<li>をコピーします<code translate="No">Button</code>の要素<code translate="No">full_screen</code>ボタン。コードは次のようになります。
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/src/main/res/layout-land/my_media_controller.xml">&lt;Button
style="@style/BorderlessButton"
android:id="@id/full_screen"
android:padding="4dp"
android:layout_gravity="center_vertical"
android:layout_height="wrap_content"
android:layout_width="wrap_content"
android:visibility="visible"
android:text="@string/brightcove_controls_enter_full_screen"/&gt;</a></code></pre>
	</li>
	<li>Androidスタジオで<strong> res/layout/my_tv_media_controller.xml </strong>ファイルを開きます。</li>
	<li><code translate="No">Button</code>コピーした要素をこのレイアウトファイルに貼り付けます。要素の位置によって、コントロールバー内での位置が決定されます。</li>
	<li><strong>res/layout/my_tv_media_controller.xml </strong>ファイルの先頭までスクロールします。style プロパティがに設定されていることを確認します<code translate="No">@style/BrightcoveControlBar.TV.Custom</code>。コードは次のようになります。
	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;com.brightcove.player.mediacontroller.BrightcoveControlBar
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:bmc="http://schemas.android.com/apk/res-auto"
xmlns:tools="http://schemas.android.com/tools"
tools:ignore="Overdraw, InconsistentLayout"
android:id="@+id/brightcove_control_bar"
android:background="@color/bmc_background"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:padding="8dp"

android:orientation="horizontal"
android:layout_gravity="bottom"
<span class="bcls-highlight">    style="@style/BrightcoveControlBar.TV.Custom"&gt;</span></code></pre>
	</li>
	<li>Androidスタジオで<strong> res/values/styles.xml </strong>ファイルを開きます。</li>
	<li><code translate="No">style</code><code translate="No">name</code><code translate="No">BrightcoveControlBar.TV.Custom</code>値がの要素に、<code translate="No">item</code>フルスクリーンボタンの要素を選択し、<code translate="No">true</code>それをに設定して表示します。
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/src/main/res/values/styles.xml">&lt;style name="BrightcoveControlBar.TV.Custom"&gt;
&lt;item name="brightcove_vr_mode"&gt;false&lt;/item&gt;
<span class="bcls-highlight">  &lt;item name="brightcove_full_screen"&gt;true&lt;/item&gt;</span>
&lt;/style&gt;</a></code></pre>
	</li>
	<li>それだAndroid TV の物理デバイスまたは仮想デバイスでサンプルアプリを実行します。コントロールバーにフルスクリーンボタンが表示されるはずです。
	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Fullscreen button" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/android_tv_fullscreen.png" />
	<figcaption class="bcls-caption--image">全画面表示ボタン</figcaption>
	</figure>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Fullscreen_mode">フルスクリーンモード</h2>

<p>コードを使用してフルスクリーンモードを管理できます。</p>

<ul>
	<li>
	<p>フルスクリーンモードを設定するコードは次のとおりです。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#ENTER_FULL_SCREEN">brightcoveVideoView.getEventEmitter().emit(EventType.ENTER_FULL_SCREEN);</a></code></pre>
	</li>
	<li>
	<p>フルスクリーンモードを終了するコードは次のとおりです。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#EXIT_FULL_SCREEN">brightcoveVideoView.getEventEmitter().emit(EventType.EXIT_FULL_SCREEN);</a></code></pre>
	</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Getting_duration_for_live_streams">ライブストリームの期間を取得する</h2>

<p>ライブストリームの期間を取得するには、を使用します<a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#MAX_POSITION"><code translate="No">MAX_POSITION</code></a>。これにより、ライブストリームのシーク可能な最大位置が得られます（つまり、スクロールバーをドラッグできる最も遠い位置）。コードは次のようになります。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#MAX_POSITION">brightcoveVideoView.getEventEmitter().on(EventType.PROGRESS, new EventListener() {
  @Override
  public void processEvent(Event event) {
  int duration = (int) event.properties.get(Event.MAX_POSITION);
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Detecting_Network_Bandwidth">ネットワーク帯域幅の検出</h2>
<p>ダウンロードを操作する場合など、アプリ内のネットワーク帯域幅を検出する必要があるユースケースがあります。</p>

<p>帯域幅を検出するために、Android用ネイティブSDKは<code translate="No">BandwidthMeter</code> ExoPlayerによって提供されるクラス。私たちの<code translate="No">PlayerBandwidthMeter</code>クラスは<code translate="No">BandwidthMeter</code>クラスを提供し、<code translate="No">getBitrateEstimate</code>推定ビットレートを返すメソッド。</p>

<p>詳細については、以下を参照してください。</p>
<ul>
  <li><a href="/android/reference/javadoc/com/brightcove/player/network/PlayerBandwidthMeter.html">BrightcovePlayerBandwidthMeterクラス</a></li>
  <li><a href="https://medium.com/google-exoplayer/https-medium-com-google-exoplayer-simplified-bandwidth-meter-usage-17d8189f978b">役職：簡略化された帯域幅メーターの使用</a></li>
  <li><a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.html">ExoPlayerBandwidthMeterインターフェース</a></li>
  <li><a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.EventListener.html">ExoPlayerBandwidthMeter.EventListenerインターフェース</a></li>
</ul>

<p>下記がその例です。</p>
<pre class="line-numbers">
<code class="language-java" translate="No">ExoPlayerVideoDisplayComponent exoPlayer = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
exoPlayer.getBandwidthMeter().addEventListener(myHandler, new BandwidthMeter.EventListener() {@
	Override public void onBandwidthSample(int elapsedMs, long bytesTransferred, long bitrateEstimate) {}
});</code></pre>
</section>

<section class="bcls-section">
<h2 id="Getting_the_ExoPlayer_instance">ExoPlayer インスタンスの取得</h2>

<p>Brightcove ネイティブ SDK では公開されていないプロパティを変更するために ExoPlayer オブジェクトを取得する必要がある場合があります。このオブジェクトのインスタンスは、ビデオの設定後に作成されます。だから、<code translate="No">DID_SET_VIDEO</code>あなたはイベントを待つ必要があります。</p>

<p>ExoPlayer インスタンスを取得するには、次の操作を行います。</p>

<pre class="line-numbers">
<code class="language-java" translate="No">// Get the ExoPlayer instance
eventEmitter.on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    VideoDisplayComponent videoDisplayComponent = brightcoveVideoView.getVideoDisplay();
    if (videoDisplayComponent instanceof ExoPlayerVideoDisplayComponent) {
      // Get ExoPlayer
      ExoPlayer exoPlayer = ((ExoPlayerVideoDisplayComponent) videoDisplayComponent).getExoPlayer();
      if (exoPlayer instanceof SimpleExoPlayer) {
        // Get SimpleExoPlayer
        SimpleExoPlayer simpleExoPlayer = (SimpleExoPlayer) exoPlayer;
        Log.v(TAG, "onDID_SET_VIDEO: ExoPlayer = " + simpleExoPlayer);
      }
    }
  }
});</code></pre>

<p>ExoPlayer <code translate="No">AudioAttribute</code>のプロパティの変更例については、「ExoPlayer <a href="https://groups.google.com/forum/#!topic/brightcove-native-player-sdks/-bbFKw3fOtk">インスタンスで AudioAttributes を設定する</a>」フォーラム投稿を参照してください。</p>
</section>

<section class="bcls-section">
<h2 id="Getting_URL_for_thumbnail_images">サムネイル画像の URL を取得する</h2>

<p>Brightcove ライブラリのサムネイルまたは動画の静止画像を使用することもできます。画像の URL を取得するには、次のコードを使用します。</p>

<p>エッジカタログ（com.brightcove.Player.edge.calog）をご利用の Video Cloud のお客様は、次のようなサムネイル URL を取得できます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/MetadataObject.html#getProperties()">String thumbnailUrl = video.getProperties().get("thumbnail").toString();</a></code></pre>

<p>サムネイル画像が小さすぎる場合は、代わりにビデオの静止画像を取得できます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/MetadataObject.html#getProperties()">String videoStillUrl = video.getProperties().get("stillImageUri").toString();</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Google_analytics">グーグルアナリティクス</h2>

<p>Brightcoveプレーヤーとカタログクラスを使用している場合、動画分析は自動的に収集され、Video Cloud Analytics モジュールに表示されます。その他の指標については、Google アナリティクスをアプリに追加できます。</p>

<p>Google アナリティクスをアプリと統合するには、次の手順に従います。</p>

<ol class="bcls-tasklist-restart">
	<li>Google サービスプラグインをプロジェクトに追加します。</li>
	<li>Google 設定ファイルを取得し、プロジェクトに追加します。</li>
	<li>アプリケーションを拡張し、アプリケーションのトラッカーを返すヘルパーメソッドを提供します。これは、<a href="https://github.com/googlesamples/google-services/blob/master/android/analytics/app/src/main/java/com/google/samples/quickstart/analytics/AnalyticsApplication.java"> GoogleサービスのAnalyticsApplicsに似ているはずです</a>。</li>
	<li>BrightCovePlayer を拡張する別のクラスで、共有トラッカーインスタンスを取得します。
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://developers.google.com/analytics/devguides/collection/android/v4/#set-up-your-project">// Obtain the shared Tracker instance
AnalyticsApplication application = (AnalyticsApplication) getApplication();
tracker = application.getDefaultTracker();</a></code></pre>
	</li>
	<li>適切なメソッドをオーバーライドして、画面の変更を記録したり、カスタムイベントを送信して追跡したりできます。</li>
</ol>

<p>詳細な手順については、Google のドキュメントで<a href="https://developers.google.com/analytics/devguides/collection/android/v4/#set-up-your-project"> Android アプリにアナリティクスを追加してください</a>。</p>
</section>

<section class="bcls-section">
<h2 id="Loading_a_remote_video_and_poster_image">リモートビデオとポスター画像の読み込み</h2>

<p>Brightcove Player は、リモートサーバーの動画アセットを使用するカスタマーだけです。リモートサーバー上に存在するビデオとポスター画像をロードするには、次の手順に従います。</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p><code translate="No">onCreate()</code>メソッドでは、ビデオビューを定義した後、リモートサーバーでホストされているビデオからビデオオブジェクトを作成します。使用するビデオの種類に合わせて、を設定します。<code translate="No">DeliveryType</code></p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8",
  DeliveryType.HLS);</code></pre>
	</li>
	<li>
	<p>ビデオの再生を開始する前に、ポスター画像として使用するリモート画像をロードします。</p>

	<pre class="line-numbers" data-start="29">
<code class="language-java" translate="No">try {
  java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
  video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
} catch (URISyntaxException e) {
  e.printStackTrace();
}</code></pre>
	</li>
	<li>
	<p>ビデオをビューに追加し、ビデオの再生を開始します。</p>

	<pre class="line-numbers" data-start="37">
<code class="language-java" translate="No">brightcoveVideoView.add(video);
brightcoveVideoView.start();</code></pre>
	</li>
	<li>
	<p><code translate="No">onCreate()</code>メソッドが次のように表示されることを確認します。</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">@Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    // Optional: For Brightcove Player customers to register their apps
    Analytics analytics = brightcoveVideoView.getAnalytics();
    analytics.setAccount("<span class="bcls-input">your account Id</span>");

    // Define a video from a remote server
    Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8", DeliveryType.HLS);

    // Load a remote poster image
    try {
        java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
        video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
    } catch (URISyntaxException e) {
        e.printStackTrace();
    }

    // Add video to the view
    brightcoveVideoView.add(video);
    // Start video playback
    brightcoveVideoView.start();
  }</code></pre>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Manually_adding_DRM_content">DRM コンテンツを手動で追加する</h2>

<p>Brightcove Player のお客様は、DRM で保護されたコンテンツを自分のサーバーで使用することができます。DRM コンテンツは、次のように手動でロードできます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/drm/WidevineMediaDrmCallback.html">import com.brightcove.player.display.WidevineMediaDrmCallback;

Video video = Video.createVideo("https://storage.googleapis.com/wvmedia/cenc/h264/tears/tears.mpd");
video.getProperties().put(WidevineMediaDrmCallback.DEFAULT_URL, "https://proxy.uat.widevine.com/proxy?video_id=&amp;provider=widevine_test");
brightcoveVideoView.add(video);
brightcoveVideoView.start();</a></code></pre>

<aside class="bcls-aside bcls-aside--information">BrightcoveライブラリにDRMコンテンツを手動でロードする必要はありません。</aside>
</section>

<section class="bcls-section">
<h2 id="Methods_synchronous_or_asynchronous">メソッド：同期または非同期？</h2>

<p>Android用のネイティブプレーヤーSDKにある非同期メソッドの一部を次に示します。</p>

<ul>
	<li>ザ・<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#start()"><code translate="No">start()</code></a>、<a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SEEK_TO"><code translate="No">seekTo()</code></a>そして<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#stopPlayback()"><code translate="No">stopPlayback()</code></a>メソッドは、システム内の他のコンポーネントが処理するイベントを発行するため、非同期です。</li>
	<li><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a>このメソッドは、リストの更新に関して同期的ですが、現在のビデオのアンロードに関して非同期です。</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Mute_unmute_the_player">プレイヤーをミュート/ミュート解除する</h2>

<p>プログラムでプレーヤーをミュートまたはミュート解除できます。Brightcoveでは、可能な限り BrightCoveExoPlayerVideoView を使用することをお勧めします。</p>

<aside class="bcls-aside bcls-aside--information">あなたはどちらかを待つ必要があります<code translate="No">DID_SET_VIDEO</code>または<code translate="No">DID_PLAY</code>プレーヤーをミュートするコードを実行する前のイベント。そうしないと、ミュートは有効になりません。これらのイベントを待つ理由は、ビデオがロードされたときにプレーヤーが作成されるためです。</aside>

<h3 id="BrightcoveExoPlayerVideoView">BrightCoveExoPlayerVideoView</h3>

<p><a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveExoPlayerVideoView.html">BrightCoveExoPlayerVideoView </a>を使用する場合、次の操作を実行して、プログラムでプレーヤーをミュートまたはミュート解除できます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VOLUME">float volume = 100F;
...
brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    setMute(true);
    brightcoveVideoView.start();
  }
});
...
private void setMute(boolean mute) {
  volume = mute ? 0F : 100F;
  Map&lt;string, Object&gt; properties = new HashMap&lt;&gt;();
  properties.put(Event.VOLUME, volume);
  brightcoveVideoView.getEventEmitter().emit(EventType.SET_VOLUME, properties);
}</a></code></pre>

<h3 id="BrightcoveVideoView">ブライトCoveVideoView</h3>

<aside class="bcls-aside bcls-aside--warning">Brightcoveは、BrightcoveExoPlayerVideoViewの使用を推奨しています。</aside>

<p>を使用する必要がある場合<a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">BrightcoveVideoView</a>、Androidを使用します<a href="https://developer.android.com/reference/android/media/MediaPlayer.html">MediaPlayer</a>、次のコードを使用して、プログラムでプレーヤーをミュートまたはミュート解除できます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VOLUME">float volume = 1F;
...
brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    setMute(true);
    brightcoveVideoView.start();
  }
});
...
private void setMute(boolean mute) {
  volume = mute ? 0F : 1F;
  Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();
  properties.put(Event.LEFT_VOLUME, volume);
  properties.put(Event.RIGHT_VOLUME, volume);
  brightcoveVideoView.getEventEmitter().emit(EventType.SET_VOLUME, properties);
}</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Offline_playback_with_DRM">DRMでオフライン再生</h2>

<p>オフライン再生用にダウンロードされた動画の場合は、通知領域にもダウンロード状態が表示されます。通知のタイトルは、ビデオタイトルに設定されます。ダウンロードが一時停止またはキャンセルされた場合、通知は削除されます。</p>

<table class="bcls-table">
	<caption class="bcls-caption--table">ダウンロード通知ステータス</caption>
	<thead class="bcls-table__head">
		<tr>
			<th>ダウンロードステータス</th>
			<th>通知内容テキスト</th>
			<th>通知アイコン</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td>ダウンロード中</td>
			<td><code translate="No">R.string.odrm_download_running</code> -これはデフォルトで「ダウンロード中…」です<br />
			<br />
			完了率を示す進行状況バーが表示されます。</td>
			<td>プラットフォームのデフォルトのアニメーション「ダウンロード」アイコン- <code translate="No">android.R.drawable.stat_sys_download</code></td>
		</tr>
		<tr>
			<td>再試行</td>
			<td><code translate="No">R.string.odrm_download_waiting_retry</code> -デフォルトで「再試行待ち...」</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>失敗</td>
			<td><code translate="No">R.string.odrm_download_failed</code> -これは「失敗！」デフォルトで</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>完了</td>
			<td><code translate="No">R.string.odrm_download_complete</code> -これはデフォルトで「保存済み」です</td>
			<td>プラットフォームのデフォルトの静的な「ダウンロード済み」アイコン- <code translate="No">android.R.drawable.stat_sys_download_done</code></td>
		</tr>
	</tbody>
</table>

<p>ステータスが [再試行] または [失敗] の場合、通知サブテキストはエラータイプに基づいて適切なリソースに設定されます。ここに完全なリストがあります：</p>

<ul>
	<li><code translate="No">R.string.odrm_error_none</code></li>
	<li><code translate="No">R.string.odrm_error_cannot_resume</code></li>
	<li><code translate="No">R.string.odrm_error_device_not_found</code></li>
	<li><code translate="No">R.string.odrm_error_file_already_exists</code></li>
	<li><code translate="No">R.string.odrm_error_file_error</code></li>
	<li><code translate="No">R.string.odrm_error_http_data_error</code></li>
	<li><code translate="No">R.string.odrm_error_insufficient_space</code></li>
	<li><code translate="No">R.string.odrm_error_too_many_redirects</code></li>
	<li><code translate="No">R.string.odrm_error_unhandled_http_code</code></li>
	<li><code translate="No">R.string.odrm_error_unknown</code></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Paging_with_the_Playback_API">再生 API を使用したページング</h2>

<p>再生 API から Video Cloud コンテンツを取得するときに、プレイリストのページングを実装できます。</p>

<p>プレイリストの一連の動画をページに移動するには、次のリクエスト URL パラメータを使用します。</p>

<ul>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">limit</a></code> -再生APIから返す動画の数を定義します</li>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">offset</a></code> -再生APIから再生リストでスキップする動画の数を設定します</li>
</ul>

<p>クエリパラメータは、キーと値のペアとして、<code translate="No">Map</code>オブジェクトとして Catalog メソッドに渡されます。この例では、再生リスト内の 10 番目の動画から 6 つの動画を返します。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/edge/Catalog.html">Map&lt;String, String&gt; queryParameters = new HashMap&lt;&gt;();
queryParameters.put("limit", "6");
queryParameters.put("offset", "9");

Catalog catalog = new Catalog(eventEmitter, "myAccount", "myPolicy");
catalog.findPlaylistByID("myPlaylistId", null, queryParameters, myListener);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Playing_local_videos">ローカル動画を再生する</h2>

<p>ローカルに保存されたMP4ビデオを再生する場合は、アプリケーションアセットフォルダに保存する必要があります。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/Video.html">Uri video = Uri.parse("file:///android_asset/path/to/video.mp4");
brightcoveVideoView.add(Video.createVideo(video.toString()));
brightcoveVideoView.start();</a></code></pre>

<aside class="bcls-aside bcls-aside--information">アプリケーションリソースフォルダ（/ res / raw）に保存されているMP4ビデオを再生しようとすると、例外エラーが発生する場合があります。</aside>
</section>

<section class="bcls-section">
<h2 id="Positioning_player_controls_on_the_bottom">プレーヤーコントロールを底に配置する</h2>

<p>デフォルトでは、プレーヤーコントロールバーは次に示すように、ビデオの真下に配置されます。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Player controls under video" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/player-controls-video.png" />
<figcaption class="bcls-caption--image">ビデオの下のプレーヤーコントロール</figcaption>
</figure>

<p>また、プレーヤーコントロールバーをビデオビューの下部に配置することもできます。コントロールはの一部であるため<code translate="No">BrightcoveVideoView</code>、高さをに設定すると<code translate="No">match_parent</code>、ビューは画面全体を覆います。コントロールがビューの下部に表示される場合、ビデオはビューの中央に残ります。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Player controls bottom" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/player-controls-bottom.png" />
<figcaption class="bcls-caption--image">プレーヤーはビデオビューの下部をコントロールします</figcaption>
</figure>

<p>これを行うには2つの方法があります。最初のアプローチは次のとおりです。</p>

<ol class="bcls-tasklist-restart">
	<li>プロジェクトの<strong> main/res/values/style.xml </strong>ファイルを開きます。</li>
	<li>
	<p>次の XML コードを追加します。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;style name="BrightcoveControlBar" parent="BrightcoveControlBarDefault"&gt;
  &lt;item name="brightcove_align"&gt;false&lt;/item&gt;
&lt;/style&gt;</code></pre>
	</li>
</ol>

<p>または、<strong> MainActivity.java </strong>ファイル内のコードを次のように使用できます。</p>

<ol class="bcls-tasklist-restart">
	<li>プロジェクトの<strong> MainActivity.java </strong>ファイルを開きます。</li>
	<li>
	<p>次に示すように、イベントエミッタを取得した後:</p>

	<pre>
<code class="language-java" translate="No">EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();</code></pre>

	<p>次のイベントリスナーとコードを追加します。コントロールバーが作成されたことを確認するために、<code translate="No">DID_SET_VIDEO</code>イベントの後まで待っています。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    BrightcoveControlBar brightcoveControlBar = brightcoveVideoView.getBrightcoveMediaController().getBrightcoveControlBar();
    brightcoveControlBar.setAlign(false);
    }
});</code></pre>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Preload_IMA_ads">IMA広告をプリロードする</h2>

<p>Android 用ネイティブ SDK および IMA プラグインを使用して広告をプリロードするには、<code translate="No">setEnablePreloading(true)</code>プロパティを使用します。</p>

<aside class="bcls-aside bcls-aside--information">これは単一のVASTプレロールでのみ機能することに注意してください。</aside>

<p>このプロパティを使用するには、次の手順を実行します。</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>出発点は、<a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMASampleApp"> IMAサンプルアプリです</a>。</p>
	</li>
	<li>
	<p><code translate="No">private void setupGoogleIMA()</code>関数を見つけます。</p>
	</li>
	<li>
	<p>関数の最後のコード行の前にスニペットコードブロックを追加します。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">ImaSdkSettings imaSdkSettings = sdkFactory.createImaSdkSettings();
AdsRenderingSettings adsRenderingSettings =
ImaSdkFactory.getInstance().createAdsRenderingSettings();
adsRenderingSettings.setEnablePreloading(true);</code></pre>
	</li>
	<li>
	<p><code translate="No">adsRenderingSettings</code>最後のコード行にパラメータを追加します。</p>

	<pre>
<code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent(brightcoveVideoView, eventEmitter, true, adsRenderingSettings);</code></pre>
	</li>
</ol>

<h2 id="Seek_without_ads">広告なしでシークする</h2>

<p><code translate="No">adsDisabled</code>プロパティを使用すると、動画を通じて検索している間、広告の再生を無効にすることができます。<code translate="No">VideoPlaybackController</code></p>

<aside class="bcls-aside bcls-aside--tip">この機能は、SSAIおよびCSAI用のものを含むすべてのBrightcove広告プラグインで機能します。プラグインの詳細については、<a href="https://sdks.support.brightcove.com/android/basics/overview-brightcove-player-sdk-android.html#Integrations"> Android統合用のネイティブSDK</a>セクション。</aside>
<!-- <aside class="bcls-aside bcls-aside--information">
<ul>
	<li>As of the Native SDK for Android v4.10.0, this feature is also supported with the FreeWheel plugin.</li>
</ul>
</aside> -->

<p>この機能を使用するには、次の手順を実行します。</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p><code translate="No">VideoPlaybackController</code>からインスタンスを取得します<code translate="No">BrightcoveVideoView</code>。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">VideoPlaybackController playbackController = brightcoveVideoView.getPlaybackController();</code></pre>
	</li>
	<li>
	<p>広告の再生を無効にします。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">playbackController.setAdsDisabled(true);</code></pre>
	</li>
	<li>現在のビデオで目的の時間位置にシークします。</li>
	<li>
	<p>通常の広告動作を再開します。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">playbackController.setAdsDisabled(false);</code></pre>
	</li>
</ol>

<p>あなたのコードは次のようになります：</p>

<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">final VideoPlaybackController playbackController = brightcoveVideoView.getPlaybackController();
eventEmitter.on(EventType.VIDEO_DURATION_CHANGED, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(true);
    brightcoveVideoView.seekTo(10000);
  }
});

eventEmitter.on(EventType.DID_SEEK_TO, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(false);
  }
});</code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_buffer_size">バッファサイズを設定する</h2>

<p>次のセグメントの配信が CDN から遅延する場合は、プレーヤーのバッファリングを排除するために、バッファ長を増やすことを検討してください。しかし、HLS が既に行っていることを手動で行うことはできないかもしれません。</p>

<p>HLS は、すぐにプレイし、維持できない場合は品質を落とせるように設計されています。この方法では、バッファをプリロードする必要はありません。それが追いつかない場合は、中断を防ぐために最高の品質でできるだけ多くのビデオをロードします。</p>

<p>Android v6.3.1 用ネイティブ SDK から、ExoPlayer 2 実装用に SDK に次のクラスが追加されました。</p>

<ul>
	<li><code translate="No">LoadControlConfig</code></li>
	<li><code translate="No">AllocatorConfig</code></li>
</ul>

<p>これらのクラスで設定された値は、ExoPlayer <code translate="No">DefaultLoadControl</code>オブジェクトの作成に使用されます。このオブジェクトは、ExoPlayer インスタンスの作成に使用されます。開発者は、次のようにバッファサイズを制御できます。</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>ザ・<code translate="No">LoadControlConfig</code>そして<code translate="No">AllocatorConfig</code>クラスはBuilderパターンに従います。両方のクラスで設定できる値は、コンストラクタで設定できる値を反映しています。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">AllocatorConfig allocatorConfig = new AllocatorConfig.Builder().build();
LoadControlConfig loadControlConfig = new LoadControlConfig.Builder()
.setAllocatorConfig(allocatorConfig)
.setMinBufferMs(X)
.setMaxBufferMs(Y)
.build();</code></pre>
	</li>
	<li>
	<p>ビルダーで設定されていない値は、デフォルト値を使用します。を設定するには、<code translate="No">ExoPlayerVideoDisplayerComponent.setLoadControlConfig()</code>メソッドを使用します<code translate="No">LoadControlConfig</code>。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);
...
ExoPlayerVideoDisplayComponent dc = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
dc.setLoadControlConfig(loadControlConfig);</code></pre>
	</li>
</ol>
<!-- <p>That being said, if you are using the ExoPlayer 1 implementation, you can control the following:</p>

<aside class="bcls-aside bcls-aside--warning">The following methods are only available with the ExoPlayer 1 implementation. These methods are deprecated with the ExoPlayer 2 implementation. For details, see the <a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html">ExoPlayerVideoDisplayComponent class</a> reference.</aside>

<ul>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minBufferDurationToSwitchUp</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">maxBufferDurationToSwitchDown</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minBufferMs</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minRebufferMs</code></a></li>
</ul>

<p>For example, if you want to set the buffer length to 120 seconds, you could set <code translate="No">minBufferMs</code> to <code translate="No">120 * 1000</code>.</p> --></section>

<section class="bcls-section">
<h2 id="Setting_captions_and_themes">キャプションとテーマの設定</h2>

<p>現在、<a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a>は Brightcove Player SDK のマニフェストファイルに設定されているため、開発者はアプリケーションで指定する必要はありません。</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest
xmlns:android="http://schemas.android.com/apk/res/android"
package="com.brightcove.player"
android:versionCode="1"
android:versionName="1.0"&gt;

&lt;application&gt;
&lt;!-- If we don't register this Activity in the Manifest, apps using the SDK will crash when they try to access it. --&gt;
&lt;!-- During the app's build process, this manifest will be merged with the app-level one. --&gt;
<span class="bcls-highlight">&lt;activity android:name="com.brightcove.player.captioning.BrightcoveCaptionPropertiesActivity"/&gt;</span>
&lt;/application&gt;
&lt;/manifest&gt;</a></code></pre>

<p>でアプリのテーマを設定している限り、<a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a>はプラットフォームのデフォルトテーマを継承します。<code translate="No">&lt;activity&gt;</code>アプリのマニフェストのレベル。</p>

<p><code translate="No">&lt;application&gt;</code>レベルで 1 つのアプリケーションテーマを設定すると、はこのアプリケーションレベルのテーマのプロパティを継承します。<a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a>テーマによっては、アクティビティが奇妙にスタイルされたり、読みにくくなることがあります。</p>

<p>そのような場合は、<a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a>独自のマニフェストでを指定し、そこにテーマを適用する必要があります。</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html">&lt;activity
<span class="bcls-highlight">android:name="com.brightcove.player.captioning.BrightcoveCaptionPropertiesActivity"</span>
android:theme="@style/MyCustomCaptionSettingsTheme"/&gt;</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_default_captions">デフォルトのキャプションを設定する</h2>

<p>動画に複数の言語のキャプションが使用されている場合は、再生開始時に初期設定の言語をプログラムで設定できます。コードは次のようになります。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#setSubtitleLocale(java.lang.String)">brightcoveVideoView.getEventEmitter().once(EventType.CAPTIONS_LANGUAGES, new EventListener() {
  @Override
  public void processEvent(Event event) {
    brightcoveVideoView.setClosedCaptioningEnabled(true);
    brightcoveVideoView.setSubtitleLocale("fr");
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_peak_bitrate">ピークビットレートの設定</h2>

<p>プレーヤーでビットレートセレクターを実装するには、次のコードを使用してピークビットレートを設定します。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html#setPeakBitrate-int-">((ExoPlayerVideoDisplayComponent) videoView.getVideoDisplay()).setPeakBitrate(bitRate);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_playback_rate">再生レートの設定</h2>

<p>ExoPlayer は、Android デバイスで再生するビデオの再生速度調整をサポートしています。詳しくは、<a href="https://medium.com/google-exoplayer/variable-speed-playback-with-exoplayer-e6e6a71e0343"> GoogleのExoPlayerドキュメントでの可変速度再生を参照してください</a>。</p>

<p>再生速度は、次のコードで制御できます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(EventType.DID_PLAY, new EventListener() {
  @Override
  public void processEvent(Event event) {

    //Get instance of ExoPlayer2
    ExoPlayerVideoDisplayComponent displayComponent = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
    ExoPlayer exoPlayer = displayComponent.getExoPlayer();

    //Set playback speed
    PlaybackParameters param = new PlaybackParameters(1.6f, 1.0f);
    exoPlayer.setPlaybackParameters(param);
  }
});</code></pre>
<aside class="bcls-aside bcls-aside--tip">視聴者が再生速度を選択するためのメニューを表示する方法については、を参照してください。<a href="/android/playback/setting-playback-speed-android.html"> Androidデバイスでの再生速度の設定</a>資料。</aside>
</section>

<section class="bcls-section">
<h2 id="Setting_VR_Goggles_mode_for_360_videos">360° 動画の VR ゴーグルモードの設定</h2>

<p>360°ビデオを再生する場合、ユーザーはコントロールバーの [Video 360] ボタンを選択して VR ゴーグルモードに切り替えることができます。いずれかを使用している場合<code translate="No">BrightcovePlayer</code>または<code translate="No">BrightcovePlayerFragment</code>アクティビティの場合、VRゴーグルモードが有効になっていると、画面の向きが横向きに変わります。</p>

<p>カスタムアクティビティを使用している場合は、以下を追加する必要があります。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#REQUESTED_ORIENTATION">brightcoveVideoView.getEventEmitter().on(EventType.CHANGE_ORIENTATION, new EventListener() {
  @Override
  public void processEvent(Event event) {
    int orientation = event.getIntegerProperty(Event.REQUESTED_ORIENTATION);
    setRequestedOrientation(orientation);
  }
});</a></code></pre>

<aside class="bcls-aside bcls-aside--information">上記のコードを含むメソッドでは、追加する必要があります<code translate="No">@SuppressWarnings("ResourceType")</code>メソッドに。</aside>
</section>

<section class="bcls-section">
<h2 id="Showing_hiding_video_still_images">動画静止画の表示/非表示</h2>

<p>Video Cloud ライブラリからビデオを取得するときのデフォルトの動作では、再生が開始されるまでビデオの静止画像が表示されます。</p>

<h3>動画静止画を表示する</h3>

<p>あなたはいつでもビデオを放つことによって静止画を表示することができます<a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VIDEO_STILL"><code translate="No">SET_VIDEO_STILL</code></a>とのイベント<a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#VIDEO_STILL"><code translate="No">VIDEO_STILL</code></a>プロパティはまだビデオのURIに設定されています。</p>
<!-- <p>Hiding should happen automatically whenever a <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#CUE_POINT"><code translate="No">CUE_POINT</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_PLAY"><code translate="No">DID_PLAY</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_SEEK_TO"><code translate="No">DID_SEEK_TO</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#WILL_INTERRUPT_CONTENT"><code translate="No">WILL_INTERRUPT_CONTENT</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#ACTIVITY_STOPPED"><code translate="No">ACTIVITY_STOPPED</code></a>, or <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#FRAGMENT_STOPPED"><code translate="No">FRAGMENT_STOPPED</code></a> event occurs.</p> --><!-- <p>In general, we try to promote doing things via events, rather than direct method calls.</p>  -->

<h3>動画静止画を隠す</h3>

<p>ビデオを自動再生する場合は、ビデオの静止画像を非表示にすることができます。これを行うには、次のように、<code translate="No">SET_VIDEO_STILL</code>イベントをリッスンし、デフォルトの動作を防ぐことができます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)">brightcoveVideoView.getEventEmitter().on(EventType.SET_VIDEO_STILL, new EventListener() {
  @Override
  public void processEvent(Event event) {
    event.preventDefault();
    event.stopPropagation();
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Showing_player_controls">プレーヤーコントロールを表示する</h2>

<p>デフォルトでは、プレーヤーコントロールは数秒後に消えます。ユーザーはビデオをタップしてコントロールを表示できます。</p>

<p>ユーザーがビデオをタップするまでプレーヤーコントロールを表示したままにするには、次のように自動非表示機能を無効にすることができます：（必要なコードが強調表示されます）</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/mediacontroller/BrightcoveMediaController.html">public class MainActivity extends BrightcovePlayer {
  <span class="bcls-highlight">private BrightcoveMediaController controller;</span>

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

<span class="bcls-highlight">    controller = new BrightcoveMediaController(brightcoveVideoView);
    controller.setShowHideTimeout(0);</span>

    super.onCreate(savedInstanceState);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Starting_playback_in_the_middle_of_a_video">ビデオの途中で再生を開始する</h2>

<p>場合によっては、ビデオの真ん中のどこかから再生を開始する必要があります。これを行うには、<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)"><code translate="No">BrightCoveVideoView.seekTo()</code></a>再生を開始する前にを呼び出すことができます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {
  @Override
  public void onVideo(Video video) {
    Log.v(TAG, "onVideo: video = " + video);

    brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
    @Override
      public void processEvent(Event event) {
      brightcoveVideoView.seekTo(60000);
      brightcoveVideoView.start();
      }
    });
  brightcoveVideoView.add(video);
  brightcoveVideoView.pause();
  }
});</a></code></pre>
</section>
<!--
											<div id="singleline" class="section">
													<h2>Showing single line controls</h2>
													<p>By default, the player controls will appear as a single line in landscape mode and appear stacked in portrait mode. You can override this behavior and display player controls as a single line in portrait mode.</p>
													<p>Follow these steps:</p>
													<ul>
															<li></li>
													</ul>

													<p><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#setSubtitleLocale(java.lang.String)"><code data-gist-id="ac85a1305f851b406dde" data-gist-hide-footer="true" data-gist-line="115-121"></code></a></p>
											</div>
					-->

<section class="bcls-section">
<h2 id="Swapping_videos">ビデオのスワップ</h2>

<p>この例は、プレーヤーでビデオをスワップする方法の 1 つを示しています。</p>

<h3>単一のビデオを使用する</h3>

<p><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a>このメソッドは、現在のビデオをアンロードするときに非同期であるため、プレーヤーに新しいビデオを追加する前に待つ必要があります。ここでは2つの選択肢があります。</p>

<ul>
	<li>
	<p>Video Cloud からビデオをフェッチする時間は、プレイリストを更新する時間を矮小にする必要があるため、次のようなことを試すことができます。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">brightcoveVideoView.clear();

catalog.findVideoByID("123456789", new VideoListener() {
  @Override
  public void onVideo(final Video video) {
    brightcoveVideoView.add(video);
    brightcoveVideoView.start();

  }
});</a></code></pre>
	</li>
	<li>
	<p>別のアプローチは、イベントを待つことです：</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_CHANGE_LIST">catalog.findVideoByID("", new VideoListener() {
@Override
  public void onVideo(final Video video) {
    eventEmitter.once(EventType.DID_CHANGE_LIST, new EventListener() {
    @Override
    public void processEvent(Event event)
    	{ brightcoveVideoView.add(video); brightcoveVideoView.start(); }
  });
  brightcoveVideoView.clear();
  }
});</a></code></pre>
	</li>
</ul>

<h3>プレイリストの使用</h3>

<p>プレイリストで作業している場合は、<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a>メソッドを呼び出すと、プレイリストのすべての要素が削除されることに注意してください。したがって、プレイリストの最初のビデオにジャンプしようとすると、<code translate="No">IndexOutOfBounds</code>例外が発生することがあります。</p>

<p>代わりに、次のようなものを試すことができます：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">brightcoveVideoView.pause();
brightcoveVideoView.stopPlayback();
brightcoveVideoView.setCurrentIndex(0);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Switching_between_videos_in_a_playlist">プレイリストの動画を切り替える</h2>

<p>プレイリストを使用している場合は、次のコードを使用して再生リストの動画を切り替えることができます。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/Playlist.html">private void setupControls(List&lt;Video&gt; videos) {
  previousVideoButton = (Button) findViewById(R.id.previous_video_button);
  nextVideoButton = (Button) findViewById(R.id.next_video_button);

  if (videos != null) {
    previousVideoButton.setEnabled(false);
    previousVideoButton.setOnClickListener(new View.OnClickListener() {
    public void onClick(View view) {
    int index = brightcoveVideoView.getCurrentIndex();
    int size = brightcoveVideoView.getList().size();
    previousVideoButton.setEnabled(index &gt; 1);
    nextVideoButton.setEnabled((index + 1) &lt; size);

    if (index &gt; 0) {
    brightcoveVideoView.setCurrentIndex(index - 1);
    }
  }
});

nextVideoButton.setEnabled(videos.size() &gt; 1);
nextVideoButton.setOnClickListener(new View.OnClickListener() {
  public void onClick(View view) {
    int index = brightcoveVideoView.getCurrentIndex();
    int size = brightcoveVideoView.getList().size();
    previousVideoButton.setEnabled(index &gt;= 0);
    nextVideoButton.setEnabled((index + 2) &lt; size);

    if ((index + 1) &lt; size) {
    	brightcoveVideoView.setCurrentIndex(index + 1);
    }
  }
});
}
}</a></code></pre>
</section>
</article>