---
title: 'AndroidTVコントロールのカスタマイズ' 
description: このトピックでは、AndroidTVの巻き戻しボタンと早送りボタンをカスタマイズする方法を学習します。
parent: Connected TV 
grandparent: Androidの開発
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Introduction">はじめに</h2>

<p>テレビ用 Brightcove メディアコントローラーには、巻き戻しボタンと早送りボタンがあります。これらのボタンのいずれかをクリックすると、既定で 3 秒前後にシークします。</p>
<p>
  いずれかのボタンを押したままにすると、シーク位置は 40 ミリ秒ごとにコンテンツの 3 秒の割合で更新されます。つまり、巻き戻しボタンまたは早送りボタンを 1 秒ごとに押すと 75 秒進みます。
</p>

</section>

<section class="bcls-section">
<h2 id="Configuring_seek_buttons">シークボタンの設定</h2>

<p>巻き戻しボタンと早送りボタンは、<code translate="No">EventType.SEEK_CONTROLLER_CONFIGURATION</code>イベントを通じて設定できます。</p>
<p>
  簡単にするために、これらのボタンのいずれかをシークボタンと呼びます。これは、次のプロパティが両方に適用されるためです。
</p>
<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>イベントプロパティ</th>
			<th>デフォルト値</th>
      <th>説明</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">Event.SEEK_DEFAULT</code></td>
			<td>3000ミリ秒</td>
      <td>シークボタンがシークするデフォルトのシーク値（ミリ秒単位）。</td>
		</tr>
    <tr>
			<td><code translate="No">Event.SEEK_RELATIVE_ENABLED</code></td>
			<td>false</td>
      <td>有効にすると、シークの値は、<code translate="No">EventType.VIDEO_DURATION_CHANGED</code>イベントによって設定されたビデオデュレーションに対する相対値になります。パーセンテージはによって設定されます<code translate="No">Event.SEEK_PERCENTAGE</code>。</td>
		</tr>
    <tr>
			<td><code translate="No">Event.SEEK_PERCENTAGE</code></td>
			<td>1%</td>
      <td>デフォルトのシーク値を計算するために使用されるビデオデュレーションに対するパーセンテージ。</td>
		</tr>
    <tr>
			<td><code translate="No">Event.SEEK_ON_HOLD_WAIT_TIME</code></td>
			<td>500ミリ秒</td>
      <td>キーイベントが通常のプレスではなく、長押しと見なされるのを待つ時間（ミリ秒単位）。</td>
		</tr>
    <tr>
			<td><code translate="No">Event.SEEK_ON_HOLD_UPDATE_FREQ</code></td>
			<td>40ミリ秒</td>
      <td>Media <code translate="No">EventType.SEEKBAR_DRAGGING_PROGRESS</code> Controllerのシークバーを更新するためにイベントを送信するために使用される時間（ミリ秒単位）。</td>
		</tr>
	</tbody>
</table>
</section>

<section class="bcls-section">
<h2 id="Customizing_event_properties">イベントプロパティのカスタマイズ</h2>
<p>上記の表に示したイベントプロパティから追加のイベントプロパティが必要な場合があります。期待値を定義し、<code translate="No">EventType.SEEK_CONTROLLER_CONFIGURATION</code>イベントを発生させることでこれを行うことができます。</p>

<p>
  イベントにカスタムプロパティを追加するには、次の手順を実行します。
</p>

<ol class="bcls-tasklist__restart">
	<li>
    <p>
      カスタム値を定義します。
    </p>
    <pre class="line-numbers">
<code class="language-java" translate="No">private static final int DEFAULT_TV_SEEK_TIME = (int) TimeUnit.SECONDS.toMillis(3);
private static final int DEFAULT_TV_ON_HOLD_WAIT_TIME = (int) TimeUnit.SECONDS.toMillis(1);
private static final int DEFAULT_TV_SEEK_PERCENTAGE = 1;
private static final int DEFAULT_TV_ON_HOLD_UPDATE_FREQUENCY_TIME = 500;
</code></pre>
  </li>
  <li>
    <p>
      プロパティマップを作成し、目的の値を追加し、<code translate="No">EventType.SEEK_CONTROLLER_CONFIGURATION</code>イベントを発生させるメソッドを含めます。
    </p>
    <pre class="line-numbers">
<code class="language-java" translate="No">private void setupTelevisionMode() {
   Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();
   properties.put(Event.SEEK_DEFAULT, DEFAULT_TV_SEEK_TIME);
   properties.put(Event.SEEK_RELATIVE_ENABLED, true);
   properties.put(Event.SEEK_PERCENTAGE, DEFAULT_TV_SEEK_PERCENTAGE);
   properties.put(Event.SEEK_ON_HOLD_WAIT_TIME, DEFAULT_TV_ON_HOLD_WAIT_TIME);
   properties.put(Event.SEEK_ON_HOLD_UPDATE_FREQ, DEFAULT_TV_ON_HOLD_UPDATE_FREQUENCY_TIME);

   eventEmitter.emit(EventType.SEEK_CONTROLLER_CONFIGURATION, properties);
}</code></pre>
  </li>
  <li>
    <p>
      アプリがテレビモードになっているかどうかを確認して、シークコントローラーの設定を設定します。
    </p>
    <pre class="line-numbers">
<code class="language-java" translate="No">if (BrightcoveMediaController.checkTvMode(mBaseVideoView.getContext())) {
   setupTelevisionMode();
}</code></pre>
  </li>
</ol>
</section>

</article>