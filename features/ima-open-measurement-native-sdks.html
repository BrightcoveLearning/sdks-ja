---
title: 'ネイティブSDKを使用したIMAオープン測定' 
description: このトピックでは、Brightcove NativeSDKのIMAプラグインでOpenMeasurementSDKを使用する方法を学習します。
parent: Features 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">概要</h2>

<p>Brightcoveのネイティブ SDK では、<a href="https://iabtechlab.com/standards/open-measurement-sdk/">オープン測定 SDK（OM SDK </a>）の使用がサポートされるようになりました。Google IMAと統合された OM SDK では、サードパーティのツールを使用して広告の測定と検証を行うことができます。</p>

<p>Open Measurement SDKでは、広告メディア要素をオーバーレイするすべてのビューを障害物とみなし、広告の視認性を低下させます。動画コントロールは「フレンドリーな」障害と見なされる場合がありますが、広告の視認性の測定から除外するには、OM SDK に登録する必要があります。</p>
</section>

<section class="bcls-section">
<h2 id="iOS">iOS</h2>

<p>iOS 版 Brightcove ネイティブ SDK では、OM SDK の使用がサポートされています。サードパーティ広告測定の実装の詳細については、『<a href="https://developers.google.com/interactive-media-ads/docs/sdks/ios/omsdk"> IMA SDK for iOS』ドキュメントの「測定を開く</a>」を参照してください。</p>

<h3>UI オーバーレイ</h3>

<p>IMA 広告ビューをオーバーレイする UI コントロール要素を使用している場合は、OM SDK に登録する必要があります。詳細については、iOS 版ネイティブ SDK リファレンスの「<a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima#registering-ad-overlays">広告オーバーレイの登録</a>」セクションを参照してください。</p>

<h3>IMA設定</h3>

<p>デフォルトでは、iOS 用 Brightcove ネイティブ SDK は<code translate="No">playerType</code>、<code translate="No">playerVersion</code>およびプロパティを次の値に設定します。</p>

<pre class="line-numbers">
<code class="language-objectivec" translate="No">imaSettings.playerType = @"bcov/ios-sdk-player";
imaSettings.playerVersion = [BCOVIMAComponent versionIdentifier];</code></pre>

<p>これらの値を上書きすることもできます。一例は、Google IMAから直接広告指標を報告することです。独自の値を使用するには、<code translate="No">imaSettings</code>オブジェクトに次のように設定します。</p>

<pre class="line-numbers">
<code class="language-objectivec" translate="No">imaSettings.playerType = @"<span class="bcls-input">your-player-type</span>";
imaSettings.playerVersion = @"<span class="bcls-input">your-player-version</span>"</code></pre>

<aside class="bcls-aside bcls-aside--information">各プロパティの最大長は20文字です。</aside>

<p>iOS 版ネイティブ SDK での IMA 広告の使用に関するコードの詳細については、<a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/IMA/BasicIMAPlayer"> BasicimaPlayer サンプルを参照してください</a>。</p>
</section>

<section class="bcls-section">
<h2 id="Android">Android</h2>

<p>Android 版 Brightcove ネイティブ SDK では、OM SDK の使用がサポートされています。サードパーティ広告測定の実装の詳細については、『<a href="https://developers.google.com/interactive-media-ads/docs/sdks/android/omsdk"> IMA SDK for Android』ドキュメントの「オープン測定</a>」を参照してください。</p>

<h3>UI オーバーレイ</h3>

<p>IMA 広告ビューをオーバーレイする UI コントロール要素を使用している場合は、OM SDK に登録する必要があります。これを行うには、コードは次のようになります。</p>

<pre class="line-numbers">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {
 // ...
 private AdDisplayContainer adDisplayContainer;
 private View adOverlayView;
 // ...

 @Override
 protected void onCreate(Bundle savedInstanceState) {
   // ...
   adOverlayView = findViewById(R.id.ad_overlay);
   setupGoogleIMA();
   // ...
 }

 private void setupGoogleIMA() {
   // Show adOverlayView
   eventEmitter.on(EventType.AD_BREAK_STARTED, (event) -&gt;  {
       adOverlayView.setVisibility(View.VISIBLE);
   });

   // Hide adOverlayView
   eventEmitter.on(EventType.AD_BREAK_COMPLETED, (event) -&gt;  {
       adOverlayView.setVisibility(View.GONE);
   });

   // Create ImaSdkFactory
   final ImaSdkFactory sdkFactory = ImaSdkFactory.getInstance();
   eventEmitter.on(GoogleIMAEventType.ADS_REQUEST_FOR_VIDEO, new EventListener() {
     @Override
     public void processEvent(Event event) {
       // Create a container object to register the friendly obstructions.
       adDisplayContainer = sdkFactory.createAdDisplayContainer();
       adDisplayContainer.registerVideoControlsOverlay(adOverlayView);
       // ...
     }
   });

   eventEmitter.on(EventType.COMPLETED, (event) -&gt; {
     if (adDisplayContainer != null) {
       // Unregister the friendly obstructions
       adDisplayContainer.unregisterAllVideoControlsOverlays();
     }
   });
 }
}</code></pre>

<h3>IMA設定</h3>

<p>デフォルトでは、iOS 用 Brightcove ネイティブ SDK は<code translate="No">playerType</code>、<code translate="No">playerVersion</code>およびプロパティを次の値に設定します。</p>

<pre class="line-numbers">
<code class="language-java" translate="No">imaSdkSettings.setPlayerType("bcov/and-sdk-player");
imaSdkSettings.setPlayerVersion("&lt;replaced with current sdk version&gt;");</code></pre>

<p>これらの値を上書きすることもできます。一例は、Google IMAから直接広告指標を報告することです。独自の値を使用するには、<code translate="No">imaSdkSettings</code>オブジェクトに次のように設定します。</p>

<pre class="line-numbers">
<code class="language-java" translate="No">ImaSdkSettings imaSdkSettings = imaSdkFactory.createImaSdkSettings();
imaSdkSettings.setPlayerType("<span class="bcls-input">your-player-type</span>");
imaSdkSettings.setPlayerVersion("<span class="bcls-input">your-player-version</span>");
GoogleIMAComponent googleIMAComponent = new GoogleIMAComponent(brightcoveVideoView, eventEmitter, imaSdkSettings);</code></pre>

<aside class="bcls-aside bcls-aside--information">各プロパティの最大長は20文字です。</aside>

<p>Android 用ネイティブ SDK での IMA 広告の使用に関するコードの詳細については、<a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMASampleApp"> AdRuleSimasampleApp サンプルを参照してください</a>。</p>
</section>
</article>