---
title: 'ネイティブSDKを使用したクロスデバイスレジューム' 
description: このトピックでは、BrightcoveネイティブSDKでクロスデバイスレジュームを使用する方法を学習します。
parent: Features 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">概要</h2>

<p>Cross-Device Resumeを使用すると、視聴者は1つのデバイスでビデオの視聴を開始し、後で別のデバイスで中断したところからビデオの視聴を続けることができます。</p>
<p>
  この機能に慣れていない場合は、「<a href="https://apis.support.brightcove.com/xdr/getting-started/xdr-overview.html">概要」を参照してください。クロスデバイス再開ドキュメント</a>。
</p>
</section>

<section class="bcls-section">
<h2 id="Requirements">要件</h2>

<p>Brightcove Native SDKを使用したクロスデバイスレジュームには、次の要件が必要です。</p>

<h3>Brightcoveのネイティブ SDK バージョン</h3>
<ul>
  <li>
    Android6.13.1以降用のネイティブSDK
  </li>
  <li>
    iOS 6.0.1以降用のネイティブ SDK、Pulse 6.7.5以降用、SSAI 6.7.7以降の場合
  </li>
</ul>

<h3>デバイスOSのバージョン</h3>
<ul>
  <li>
    Android 6.0+
  </li>
  <li>
    iOS 11.0以降
  </li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Setup">セットアップ</h2>

  <p>この機能は、Brightcove 動画クラウドアカウントをお持ちの方であれば誰でも利用できます。</p>
  <p>
    開始するには、次の操作を行います。
  </p>
  <ul>
    <li>
      アカウントでデバイスをまたいだ再開を有効にする場合は、アカウントマネージャーにお問い合わせください
    </li>
    <li>
      使用している動画がダイナミック配信用に取り込まれていることを確認します
    </li>
  </ul>
</section>

<section class="bcls-section">
<h2 id="Implementing_Cross_Device_Resume">クロスデバイス再開の実装</h2>

  <p>クロスデバイス再開を実装するには、次の手順を実行します。</p>
 <ol class="bcls-tasklist">
    <li>
      <p>
        Brightcoveアナリティクスのユーザー ID を設定する
      </p>
      <p>
        視聴者のデータは自動的に Brightcove アナリティクスに送信されますが、ユーザー ID を設定する必要があります。
      </p>
      <p>
        認証ゲートウェイまたは一部の ID 管理ソリューションを使用して、閲覧者を追跡できます。このビューアIDをユーザー識別子として使用して、Brightcoveアナリティクスに渡します。
      </p>
    </li>
    <li>
      <p>
        Cross-Device Resume（XDR）APIからビューアの再生位置を取得します
      </p>
    </li>
    <li>
      再生を再開する
    </li>
  </ol>
</section>

<section class="bcls-section">
<h2 id="Android_Implementation">Androidの実装</h2>

<p>Android 用ネイティブ SDK の場合は、次の手順を実行します。</p>
<ol class="bcls-tasklist-restart">
  <li>
    <p>
      Brightcoveアナリティクスのユーザー ID を設定します。
    </p>
    <pre><code class="language-java" translate="No">HashMap&lt;String, String&gt; baseParams = new HashMap&lt;&gt;();
baseParams.put(Analytics.Fields.USER, &quot;<span class="bcls-input">viewer id</span>&quot;);
baseParams.put(Analytics.Fields.APPLICATION_ID, &quot;<span class="bcls-input">application id</span>&quot;);

HashMap&lt;String, Object&gt; eventParams = new HashMap&lt;&gt;();
eventParams.put(Analytics.Fields.BASE_PARAMS, baseParams);
eventEmitter.emit(EventType.ADD_ANALYTICS_BASE_PARAMS, eventParams);
</code></pre>
  </li>
  <li>
    <p>
        Cross-Device Resume（XDR）APIからビューアの再生位置を取得します。 
    </p>
    <p>
       詳細については、以下を参照してください。
    </p>
    <ul>
      <li>
        <a href="https://apis.support.brightcove.com/xdr/getting-started/get-playback-position.html">クロスデバイス再開 (XDR) API からの再生位置の取得</a>
      </li>
      <li>
        <a href="https://apis.support.brightcove.com/xdr/references/reference.html">クロスデバイス再開 (XDR) API リファレンス</a>
      </li>
    </ul>
  </li>
  <li>
    <p>
      再生を再開します。
    </p>
    <p>
      XDR APIからビューアの再生位置を取得すると、その時点から再生を再開できます。<code translate="No">brightcoveVideoView.seekTo()</code>メソッドを使用して再生ヘッドの位置を設定します。
    </p>
    <pre><code class="language-java" translate="No">final VideoPlaybackController playbackController = brightcoveVideoView.getPlaybackController();
eventEmitter.on(EventType.VIDEO_DURATION_CHANGED, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(true);
    brightcoveVideoView.seekTo(&lt;<span class="bcls-input">viewer playhead position</span>&gt;);
  }
});

eventEmitter.on(EventType.DID_SEEK_TO, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(false);
  }
});
</code></pre>
  </li>
</ol>
</section>

<section class="bcls-section">
<h2 id="iOS_Implementation">iOSの実装</h2>
<p>iOS 用ネイティブ SDK の場合は、次の手順を実行します。</p>
<ol class="bcls-tasklist-restart">
  <li>
    <p>
      Brightcoveアナリティクスのユーザー ID を設定します。
    </p>
    <pre><code class="language-objectivec" translate="No">@try
  {
    [BCOVGlobalConfiguration.sharedConfig setValue:@{
      @&quot;privateUser&quot;: self.<span class="bcls-input">viewer id</span>,
      @&quot;privateApplication&quot;: @&quot;<span class="bcls-input">application id</span>&quot;
    }
    forKey:@&quot;privateSessionAnalytics&quot;];
  }
  @catch (NSException *e)
  {
    NSLog(@&quot;%@&quot;, e.description);
  }
</code></pre>
  </li>
  <li>
    <p>
        Cross-Device Resume（XDR）APIからビューアの再生位置を取得します。 
    </p>
    <p>
      詳細については、以下を参照してください。
    </p>
    <ul>
      <li>
        <a href="https://apis.support.brightcove.com/xdr/getting-started/get-playback-position.html">クロスデバイス再開 (XDR) API からの再生位置の取得</a>
      </li>
      <li>
        <a href="https://apis.support.brightcove.com/xdr/references/reference.html">クロスデバイス再開 (XDR) API リファレンス</a>
      </li>
    </ul>
  </li>
  <li>
    <p>
      再生を再開します。
    </p>
    <p>
      XDR APIからビューアの再生位置を取得すると、その時点から再生を再開できます。次の方法を使用して、再生ヘッドの位置を設定します。
    </p>
    <pre><code class="language-objectivec" translate="No">-[BCOVPlaybackController seekWithoutAds:(CMTime)seekToTime completionHandler:(void (^)(BOOL finished))completion]
</code></pre>
    <p>
      これにより、視聴者に以前にスケジュールされた広告を視聴させることなく、特定の時間に再生を再開できます。<code translate="No">seekToTime</code>。
    </p>
    <p>
      の準備のため<code translate="No">seekWithoutAds:completionHandler:</code>、<code translate="No">autoPlay</code>を設定するときに無効にします<code translate="No">BCOVPlaybackController</code>。
    </p>
    <p>
      を使用する前に、のステータスが Read-to-play に変わるのを待っていることをお勧めします<code translate="No">AVPlayerItem</code>。<code translate="No">AVPlayerItem</code>したがって、<code translate="No">seekWithoutAds:completionHandler:</code>の中に<code translate="No">kBCOVPlaybackSessionLifecycleEventReady</code>のハンドラー<code translate="No">playbackController:playbackSession:didReceiveLifecycleEvent</code>あなたの方法<code translate="No">BCOVPlaybackControllerDelegate</code>。
    </p>
    <p>
      広告なしのシークについて詳しくは、以下をご覧ください。
    </p>
    <ul>
      <li>
        <a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima#seek-without-ads">イマ</a>
      </li>
      <li>
        <a href="https://github.com/brightcove/brightcove-player-sdk-ios-fw#seek-without-ads">フリーホイール</a>
      </li>
      <li>
        パルスは、IMAやFreeWheelと同じ方法で広告なしでシークを実装します
      </li>
      <li>
        <a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai#seek-without-ads">SSAI </a>
      </li>
    </ul>
  </li>
</ol>


</section>

<!-- <section class="bcls-section">
<h2 id="Notes">Notes</h2>

<p>The following notes apply to this feature:</p>
<ul>
  <li>
    
  </li>
</ul>
</section> -->

</article>