---
title: 'ネイティブSDKを使用したクライアントサイド広告の実装' 
description: このトピックでは、Brightcove NativeSDKを使用してクライアント側の広告を再生する方法を学習します。
parent: Features 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">概要</h2>

<p>クライアント側広告では、クライアントデバイスから広告サーバーにリクエストを送信することが含まれます。これにより、広告動画の取得中にバッファリング時間がかかります。テレビのようなエクスペリエンスを実現するには、<a href="/features/implementing-server-side-ads-native-player-sdks.html">サーバー側の広告挿入を使用できます</a>。</p>

<p>クライアント側広告では、広告キューポイントが検出されるか、VMAP 応答からの広告のタイミングに到達するまで、コンテンツ動画が再生されます。設定された広告サーバーにリクエストが行われ、広告の詳細が応答します。その後、プレーヤーは要求された広告の再生を開始します。</p>

<p>Brightcoveのネイティブ SDK は、次のテクノロジ用のプラグインを提供します。</p>

<ul>
	<li><a href="https://developers.google.com/interactive-media-ads/">グーグルのインタラクティブメディア広告 (IMA) </a></li>
	<li><a href="https://www.freewheel.com/">フリーホイール</a></li>
</ul>

<p>ネイティブSDKは、Googleの広告マネージャとGoogleのAdSenseネットワークであるパブリッシャーのためのDoubleClick（DFP）を使用するときに生成された VMAP をサポートしています。</p>
</section>

<section class="bcls-section">
<h2 id="Types_of_ads">広告の種類</h2>

<p>動画で使用できる広告には、主に次の 3 種類があります。</p>

<p><strong>リニア広告</strong> -メインコンテンツのビデオを一時停止し、プレーヤーの全フレームに表示される広告</p>

<p><strong>ノンリニア広告</strong> -メインコンテンツ動画の上にオーバーレイ広告が表示されます。これらは、テキスト、グラフィカル画像、またはビデオオーバーレイであっても可能です。</p>

<p><strong>コンパニオン広告</strong> -動画プレーヤーの外に表示される広告</p>
</section>

<section class="bcls-section">
<h2 id="Ad_standards">広告スタンダード</h2>

<p>標準の XML ファイルを使用して、広告を再生するタイミングと再生する広告をプレーヤーに通知できます。<a href="https://www.iab.com/">インタラクティブ広告局（IAB）</a>は、動画プレーヤーと広告ユニットの間で次の共通インターフェイスを思いつきました。</p>

<p><strong>動画広告配信テンプレート（VAST）</strong> -デジタル動画プレーヤーに広告を配信するための汎用的な XML スキーマ。このファイルには、表示する広告を指定します。</p>

<p><strong>動画複数広告プレイリスト（VMAP）</strong> -このファイルには、プリロール、ミッドロール、ポストロール、ノンリニア広告など、VAST 広告のプレイリストが記述されています。ここでは、広告が中断するタイミングと、各休憩中にどの広告を再生するかを指定できます。</p>

<p><strong>動画プレーヤー広告配信インターフェイスの定義（Vペイド）</strong> -インタラクティブな広告体験を提供するための共通のインターフェイスを確立します。</p>

<aside class="bcls-aside bcls-aside--information">BrightcoveネイティブSDKはVPAID広告をサポートしていません</aside>

<p>広告用語を初めて使用する場合は、まず「<a href="https://player.support.brightcove.com/getting-started/learning-guide-video-advertising.html">動画広告用ラーニングガイド</a>」をご覧ください。</p>
</section>

<section class="bcls-section">
<h2 id="Play_ads_from_your_app">アプリから広告を再生する</h2>

<p>クライアント側広告を再生するには、次の手順に従います。</p>

<ol class="bcls-tasklist">
	<li><a href="">広告タグを定義する</a></li>
	<li><a href="">広告タグを確認する</a></li>
	<li><a href="">キューポイントを作成する</a></li>
	<li>
	<p>アプリを構築する</p>

	<ul>
		<li><a href="">Androidの実装</a></li>
		<li><a href="">iOSの実装</a></li>
	</ul>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Define_ad_tags">広告タグを定義する</h2>

<p>広告タグは、取得および再生される広告を定義します。次のいずれかの形式を使用できます。</p>

<ul>
	<li>VAST-XML スキーマの詳細については、<a href="https://www.iab.com/guidelines/digital-video-ad-serving-template-vast-3-0/"> IAB VAST 仕様を参照してください</a>。</li>
	<li>VMAP-XML テンプレートの詳細については、<a href="https://www.iab.com/guidelines/digital-video-multiple-ad-playlist-vmap-1-0-1/"> IAB VMAP 仕様を参照してください</a>。</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Verify_ad_tags">広告タグを確認する</h2>

<p>広告タグが有効で、期待どおりに機能することを確認することをお勧めします。これは、実装プロセス中に他の問題をデバッグするのに役立ちます。</p>

<p>Google では、<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/vastinspector">広告タグを確認するためのビデオスイートのインスペクタが用意されています</a>。</p>

<p>FreeWheel には、<a href="https://vi.freewheel.tv/apc/index">広告サーバーの応答を確認するための広告プレビューアーが用意されています</a>。</p>
</section>

<section class="bcls-section">
<h2 id="Create_cue_points">キューポイントを作成する</h2>

<p>VMAP 広告タグを使用している場合は、この手順を省略できます。VMAP では、広告の再生リストを定義し、その再生時期を指定します。なお、<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/ad-rules"> GoogleのIMA広告ルールはVMAPを使用している</a>。</p>

<p>VAST 広告タグを使用している場合は、キューポイントを作成して、広告を挿入するタイミングをプレイヤーに通知する必要があります。アプリ内でこれらを作成する必要があります。それを行う方法の例をいくつか挙げます。</p>
<h3>Android</h3>
<ul>
  <li><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicIMAVASTSampleApp">基本的な IMA 広大なサンプル</a></li>
</ul>
<h3>iOS</h3>
<ul>
  <li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/IMA/BasicIMAPlayer">基本的な IMA サンプル</a></li>
</ul>

<!-- <p>You can use Brightcove's Media module to create cue points. To do this, see the <a href="https://studio.support.brightcove.com/media/working-cue-points-media-module.html">Working with Cue Points in the Media Module</a> document.</p> -->
</section>

<section class="bcls-section">
<h2 id="Android_Implementation">Androidの実装</h2>

<p>Android 版ネイティブ SDK では、VMAP、VAST、サーバーサイド広告ルール、コンパニオン広告がサポートされています。</p>

<h3>グーグルIMA</h3>

<p>Google IMA広告ルールを使用するには、次の手順に従います。</p>

<ol class="bcls-tasklist-restart">
	<li><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMASampleApp">広告ルール IMA </a>サンプルアプリを見つけて確認します。</li>
	<li><strong>MainActivity.java </strong>ファイルを開きます。</li>
	<li>
	<p>あなたの値でプロジェクトをカスタマイズします。Video Cloud ライブラリからコンテンツを取得するには、次の値が必要です。</p>

	<ul>
		<li>再生 API ポリシーキー</li>
		<li>アカウントID</li>
		<li>動画ID</li>
	</ul>
	</li>
	<li>
	<p>IMA 広告にアクセスするための値を含めます。</p>

	<ul>
		<li>広告ルール URL</li>
	</ul>
	</li>
	<li><code translate="No">setupGoogleIMA()</code>このメソッドは、Brightcove IMA プラグインとの接続を確立します。</li>
	<li><code translate="No">GoogleIMAEventType.ADS_REQUEST_FOR_VIDEO</code>イベントを聞いて。ここでは、広告リクエストオブジェクトを作成し、広告タグ URL を指定します。この場合、これは広告ルール VMAP ファイルです。</li>
	<li><code translate="No">setupAdMarkers()</code>メソッドはオプションです。このメソッドは IMA AdManager を呼び出し、シークバーに広告マーカーを作成します。これにより、ユーザーは広告がいつ再生されるかを視覚的に確認できます。</li>
</ol>

<h4>広告なしでシークする</h4> 
<p>ユーザーが動画を検索している間に広告の再生を無効にする場合は、<a href="https://sdks.support.brightcove.com/android/resources/code-snippets-using-native-sdk-android.html#Seek_without_ads">広告コードなしの Seek </a>を参照してください。</p>
<aside class="bcls-aside bcls-aside--information">Android用ネイティブSDKは、ExoPlayerフレームワークを使用してコンテンツと広告を再生します。IMAを使用すると、ユーザーは広告を検索した後、コンテンツの再生を開始するために再生ボタンを2回タップする必要があります。</aside>

<h4>コードサンプル</h4>
<p>完全なコードサンプルは次のとおりです。</p>
<ul>
		<li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicIMAVASTSampleApp">基本IMAの広大なプレイヤー</a> :VAST タグを使用するには、アプリで Playback API <code translate="No">Video</code>呼び出しから返されたオブジェクトメタデータからキューポイントのセットを作成する必要があります。メタデータには、Video Cloud Studio で作成した広告キューポイントが含まれます。</p>
    </li>
    <li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMASampleApp">IMA広告ルールIMAプレーヤー</a> :または、アプリで Player <code translate="No">Activity</code>クラスにキューポイントオブジェクトのセットを作成することもできます。</p>
    </li>
    <li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMAWidevineModularSampleApp">広告ルール IMA Widevine モジュラー</a> :クライアント側の広告とコンテンツ保護を組み合わせます。</p>
    </li>
</ul>

<h3>FreeWheel</h3>

<p>これらの広告では、FreeWheel AdManager ライブラリを購入する必要があります。</p>

<p>FreeWheel 広告を使用するには、次の手順に従います。</p>

<ol class="bcls-tasklist-restart">
	<li><a href="https://www.freewheel.com/">FreeWheel </a>に連絡して admanager.aar ライブラリアーカイブを購入し、libs/ ディレクトリにインストールしてください。これは通常、/home/ ディレクトリのルートにあります。Android 用ネイティブ SDK と FreeWheel サンプルアプリには、FreeWheel AdManager ライブラリバージョン 6.28.0 が必要です。</li>
	<li><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/FreeWheelSampleApp">FreeWheel </a>サンプルアプリを見つけて確認します。</li>
	<li><strong>MainActivity.java </strong>ファイルを開きます。</li>
	<li>あなたの値でプロジェクトをカスタマイズします。このサンプルでは、リモートビデオアセットを使用しています。</li>
	<li>
	<p>FreeWheel 広告にアクセスするための値を含めます。</p>

	<ul>
		<li>広告URL</li>
		<li>広告ネットワーク ID</li>
		<li>広告プロフィール</li>
	</ul>
	</li>
	<li><code translate="No">setupFreeWheel()</code>このメソッドは、Brightcove FreeWheel プラグインとの接続を確立します。</li>
	<li>広告の URL を指すように FreeWheel コントローラーを設定します。<code translate="No">freeWheelController.setAdURL("http://demo.v.fwmrm.net/");</code></li>
	<li>これは、後で FreeWheel <code translate="No">AdRequestConfiguration</code>クラスをインスタンス化するために使用されます。</li>
	<li><code translate="No">FreeWheelEventType.WILL_SUBMIT_AD_REQUEST</code>イベントを聞いて。ここでは、FreeWheel コントローラーを入手し、プリロール、ミッドロール、ポストロール、オーバーレイ広告スロットをセットアップします。</li>
</ol>

<h4>広告なしでシークする</h4> 
<p>ユーザーが動画を検索している間に広告の再生を無効にする場合は、<a href="https://sdks.support.brightcove.com/android/resources/code-snippets-using-native-sdk-android.html#Seek_without_ads">広告コードなしの Seek </a>を参照してください。</p>

<h4>コードサンプル</h4>
<p>完全なコードサンプルは次のとおりです。</p>
<ul>
		<li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/FreeWheelSampleApp/src/main">基本フリーホイールプレーヤー</a></p>
    </li>
    <li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/FreeWheelWidevineModularSampleApp/src/main">FreeWheel Widevine モジュラープレーヤー</a> :クライアント側の広告とコンテンツ保護を組み合わせます。</p>
    </li>
</ul>
</section>

<section class="bcls-section">
<h2 id="iOS_Implementation">iOSの実装</h2>

<p>iOS 版ネイティブ SDK では、VMAP、VAST、サーバーサイド広告ルール、コンパニオン広告がサポートされています。</p>

<h3>グーグルIMA</h3>

<p>インストール、クイックスタート、使用の詳細については、<a href="/ios/reference/plugins/ima/index.html"> iOS 用 IMA プラグイン Brightcove Player SDK </a>リファレンスを参照してください。</p>

<p>Google IMA広告を使用するには、次の手順に従います。</p>

<ol class="bcls-tasklist-restart">
	<li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/IMA/BasicIMAPlayer">基本的な IMA Player </a>サンプルアプリを見つけて確認します。</li>
	<li><strong>ViewController </strong>ファイルを開きます。</li>
	<li>
	<p>あなたの値でプロジェクトをカスタマイズします。Video Cloud ライブラリからコンテンツを取得するには、次の値が必要です。</p>

	<ul>
		<li>再生 API ポリシーキー</li>
		<li>アカウントID</li>
		<li>動画ID</li>
	</ul>
	</li>
	<li>
	<p>IMA 広告にアクセスするための値を含めます。</p>

	<ul>
		<li>パブリッシャーID</li>
		<li>言語</li>
		<li>広告タグ URL</li>
	</ul>
	</li>
	<li>広告リクエストポリシー（VAST、VMAP、またはサーバー側の広告ルール）を含む、適切な IMA 設定を使用してを作成します。<code translate="No">playbackController</code></li>
	<li>広告イベントは、ライフサイクルイベントを通じて BCOVIMA プラグインによって放出されます。これらのイベントは、<a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima/blob/master/ios/BrightcoveIMA.framework/Headers/BCOVIMAComponent.h"> bcovimacomponent.h </a>ファイルで定義されています。</li>
	<li>サンプルアプリには、広告の再生中にプレーヤーコントロールを非表示にし、広告が終了したときにそれらを表示する機能が含まれています。</li>
</ol>

<h4>広告なしでシークする</h4> 
<p>ユーザーが動画を検索している間に広告の再生を無効にする場合は、プラグインリファレンスの「<a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima#seek-without-ads">広告なし検索</a>」セクションを参照してください。</p>

<h4>コードサンプル</h4>
<p>完全なコードサンプルは次のとおりです。</p>
<ul>
		<li><p><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/IMA/BasicIMAPlayer">基本IMAプレイヤー</a></p></li>
    <li><p><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/IMA/FairPlayIMAPlayer">フェアプレイの基本的なIMAプレーヤー</a> :クライアント側の広告とコンテンツ保護を組み合わせます。</p></li>
    
</ul>

<h3>FreeWheel</h3>

<p>Freeheel ADManager SDK は、CocoaPods を使用してインストールされません。代わりに、プロジェクトのアプリケーションターゲットに手動で追加する必要があります。</p>

<p>FreeWheel 広告を使用するには、次の手順に従います。</p>

<ol class="bcls-tasklist-restart">
	<li>FreeWheel Admananger SDK をプロジェクトに手動で追加します。詳細な手順については、基本的な Freewheel プレーヤーの<a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Freewheel"> README </a>ファイルを参照してください。</li>
	<li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Freewheel/BasicFreewheelPlayer">基本的な FreeWheel Player </a>サンプルアプリを見つけて確認します。</li>
	<li><strong>ViewController </strong>ファイルを開きます。</li>
	<li>
	<p>あなたの値でプロジェクトをカスタマイズします。Video Cloud ライブラリからコンテンツを取得するには、次の値が必要です。</p>

	<ul>
		<li>再生 API ポリシーキー</li>
		<li>アカウントID</li>
		<li>動画ID</li>
	</ul>
	</li>
	<li>FreeWheel アドマネージャーを作成します。これは、すべての広告コンテキストに責任があります。</li>
	<li>広告コンテキストポリシーを使用して、セッションプロバイダーと再生コントローラーを作成します。</li>
	<li>独自の FreeWheel 設定値でプロジェクトをカスタマイズします。<a href="https://www.freewheel.com/">FreeWheel のマニュアルを参照するか</a>、FreeWheel アカウントマネージャーにお問い合わせください。</li>
	<li>広告ビュー、広告コントロール、コンパニオンスロットを設定します。</li>
</ol>
<h4>広告なしでシークする</h4> 
<p>ユーザーが動画を検索している間に広告の再生を無効にする場合は、プラグインリファレンスの「<a href="https://github.com/brightcove/brightcove-player-sdk-ios-fw#seek-without-ads">広告なし検索</a>」セクションを参照してください。</p>

<h4>コードサンプル</h4>
<p>完全なコードサンプルは次のとおりです。</p>
<ul>
		<li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Freewheel">基本フリーホイールプレーヤー</a></li>
</ul>
</section>
</article>