---
title: 'ネイティブSDKでのライブSSAIのプレーヤー拡張機能の使用' 
description: このトピックでは、サーバーサイド広告を含み、ユーザーエクスペリエンスを向上させるためにLiveSSAIのPlayerEnhancementsを利用するBrightcoveNativeSDKを使用してライブストリームを再生する方法を学習します。
parent: Live 
grandparent: Androidの開発
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Introduction">はじめに</h2>

<p>ライブSSAI でのBrightcoveのプレーヤー機能強化では、広告数、広告カウントダウンタイマー、クリックスルー広告、コンパニオン広告など、ライブストリームの広告ブレイクを向上させることができます。これらのライブストリームは、Brightcoveのネイティブ SDK を使用して再生できます。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Client-side ad components" src="//learning-services-media.brightcove.com/doc-assets/node/18946-sls-overview/client-components-sls.png" />
<figcaption class="bcls-caption--image">クライアント側の広告コンポーネント</figcaption>
</figure>

<p>テレビはウェブブラウザをサポートしていないため、接続されているテレビではコンパニオン広告やクリックスルー広告をご利用いただけません。</p>

<p>この機能を初めて使用する場合は、以下を参照してください。</p>

<ul>
	<li><a href="https://live.support.brightcove.com/live-api/ssai/overview-player-enhancements-live-ssai.html">概要:ライブ SSAI のプレーヤーの機能強化</a></li>
	<li><a href="https://ssai.support.brightcove.com/live/guides/implementing-player-enhancements-live-ssai.html">ライブ SSAI のプレーヤー機能拡張の実装</a></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Steps">ステップ</h2>

<p>Brightcoveのネイティブ SDK を使用して拡張プレーヤーでライブストリームを再生するには、次の手順に従います。</p>

<ol class="bcls-tasklist">
	<li>「<a href="https://ssai.support.brightcove.com/live/guides/implementing-player-enhancements-live-ssai.html"> Live SSAI のプレーヤー拡張の実装</a>」ドキュメントのワークフローに従って、再生トークンを作成します。</li>
	<li>
	<p>アプリを構築する:</p>

	<ul>
		<li><a href="#Android_implementation">Androidの実装</a></li>
		<li><a href="#iOS_implementation">iOSの実装</a></li>
	</ul>
	</li>
	<li>「<a href="https://ssai.support.brightcove.com/live/guides/implementing-player-enhancements-live-ssai.html"> Live SSAI 用のプレーヤーの機能強化の実装</a>」ドキュメントのワークフローに進みます。</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Android_implementation">Androidの実装</h2>

<p>Android 用ネイティブ SDK を使用してアプリを構築するには、次の値が必要です。</p>

<ul>
	<li>再生トークン</li>
	<li>アカウント ID</li>
	<li>ビデオ ID</li>
	<li>ポリシーキー</li>
</ul>

<p>ポリシーキーを取得するには、<a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">ポリシーキーのドキュメントを確認します</a>。</p>

<p>アプリを構築するには、次の手順に従います。</p>

<ol class="bcls-tasklist-restart">
	<li><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicSsaiSampleApp">基本的な SSAIサンプルアプリをコードの出発点として使用します</a>。</li>
	<li><strong>res/values/strings.xml </strong>ファイルで、次の値を独自の値に置き換えます。
	<ul>
		<li>アカウント ID</li>
		<li>ビデオ ID</li>
		<li>ポリシーキー</li>
	</ul>
	</li>
	<li>
	<p><strong>MainActivity.java </strong>ファイルで、<code translate="No">ad_config_id</code><a href="/features/using-player-enhancements-live-ssai-native-sdks.html#Configure_the_player">値を再生トークンに置き換えます</a>。</p>

	<pre>
<code class="language-html" translate="No">private final String AD_CONFIG_ID_QUERY_PARAM_VALUE = "<span class="bcls-input">your playback token</span>";</code></pre>
	</li>
	<li>
	<p>再生トークンの値がクエリパラメータとして HTTP リクエストに追加されます。<code translate="No">ad_config_id</code></p>

	<pre class="line-numbers">
<code class="language-html" translate="No">HttpRequestConfig httpRequestConfig = new HttpRequestConfig.Builder()
  .addQueryParameter(<span class="bcls-highlight">AD_CONFIG_ID_QUERY_PARAM_KEY, AD_CONFIG_ID_QUERY_PARAM_VALUE</span>)
  .build();</code></pre>
	</li>
	<li>
	<p>ライブストリーム動画 ID と更新された HTTP リクエストを使用して、Playback API へのカタログ呼び出しを行います。</p>

	<pre class="line-numbers">
<code class="language-html" translate="No">catalog.findVideoByID(<span class="bcls-highlight">getString(R.string.video_id), httpRequestConfig</span>, new VideoListener() {
     @Override
     public void onVideo(Video video) {
         plugin.processVideo(video);
     }
 });</code></pre>
	</li>
	<li>プレーヤーはライブストリームを再生する準備ができました。</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="iOS_implementation">iOSの実装</h2>

<p>iOS 版ネイティブ SDK を使用してアプリを構築するには、次の値が必要です。</p>

<ul>
	<li>再生トークン</li>
	<li>アカウント ID</li>
	<li>ビデオ ID</li>
	<li>ポリシーキー</li>
</ul>

<p>ポリシーキーを取得するには、<a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">ポリシーキーのドキュメントを確認します</a>。</p>

<p>アプリを構築するには、次の手順に従います。</p>

<ol class="bcls-tasklist-restart">
	<li><a href="https://github.com/BrightcoveOS/ios-player-samples">基本的な SSAIプレーヤーサンプルをコードの出発点として使用します</a>。</li>
	<li><strong>ViewController.swift </strong>ファイルで、次の値を独自の値に置き換えます。
	<ul>
		<li>アカウント ID</li>
		<li>ビデオ ID</li>
		<li>ポリシーキー</li>
	</ul>
	</li>
	<li>
	<p><code translate="No">AdConfigId</code><a href="/features/using-player-enhancements-live-ssai-native-sdks.html#Configure_the_player">値を再生トークンに置き換えます</a>。</p>

	<pre>
<code class="language-html" translate="No">static let AdConfigId = "<span class="bcls-input">your playback token</span>"</code></pre>
	</li>
	<li>
	<p>再生トークンの値がクエリパラメータとして追加されます。<code translate="No">AdConfigId</code></p>

	<pre>
<code class="language-html" translate="No">let queryParameters = [kBCOVPlaybackServiceParamaterKeyAdConfigId: <span class="bcls-highlight">Constants.AdConfigId</span>]</code></pre>
	</li>
	<li>
	<p>ライブストリーム動画 ID とクエリパラメーターを使用して、Playback API へのカタログ呼び出しを行います。</p>

	<pre class="line-numbers">
<code class="language-html" translate="No">playbackService.findVideo(withVideoID: <span class="bcls-highlight">Constants.VideoId</span>, parameters: <span class="bcls-highlight">queryParameters</span>)
  { [weak self] (video: BCOVVideo?, jsonResponse: [AnyHashable: Any]?, error: Error?) -&gt; Void in
  guard let _video = video else {
    print("ViewController Debug - Error retrieving video: \(error?.localizedDescription ?? "unknown error")")
    return
  }
  self?.playbackController?.setVideos([_video] as NSFastEnumeration)
}</code></pre>
	</li>
	<li>プレーヤーはライブストリームを再生する準備ができました。</li>
</ol>
</section>
</article>